<template>
    <lightning-modal-header label="Assign Training Resources"></lightning-modal-header>
    <lightning-modal-body class="modal-body">
        <section if:true={showPopup}>
            <lightning-input type="text" label="Search Resources" onchange={filterResources}></lightning-input>
            <section if:true={hasFilteredRoleValues} class="role-specific-resources slds-p-around_small">
                <h1 class="slds-text-heading_small">Resources for {employeeData.fields.Role__c.value}</h1>
                <lightning-checkbox-group 
                    name="roleSpecificResources"
                    options={roleSpecificOptions}
                    value={filteredRoleSpecificValues}
                    onchange={handleRoleSpecificSelection}>
                </lightning-checkbox-group>
            </section>
            <section if:true={hasFilteredGeneralValues} class="general-resources slds-p-around_small">
                <h1 class="slds-text-heading_small">General Resources</h1>
                <lightning-checkbox-group 
                    name="generalResources"
                    options={generalOptions}
                    value={filteredGeneralValues}
                    onchange={handleGeneralSelection}>
                </lightning-checkbox-group>
            </section>
    </section>
    </lightning-modal-body>
    <lightning-modal-footer>
        <lightning-button
            class="slds-button"
            variant="neutral"
            label="Cancel"
            onclick={closeModal}
        ></lightning-button>
        <lightning-button
            class="slds-button slds-m-left_x-small"
            variant="brand"
            label="Assign"
            onclick={handleAssign}
        ></lightning-button>
    </lightning-modal-footer>
</template>
